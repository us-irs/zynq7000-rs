[target.armv7a-none-eabihf]
runner = "just run"

rustflags = [
  "-Ctarget-cpu=cortex-a9",
  "-Ctarget-feature=+vfp3",
  "-Ctarget-feature=+neon",
  "-Clink-arg=-Tlink.x",
  # Breaks builds not using/including defmt..
  # "-Clink-arg=-Tdefmt.x",
  # If this is not enabled, debugging / stepping can become problematic.
  "-Cforce-frame-pointers=yes",
  # Can be useful for debugging.
  # "-Clink-args=-Map=app.map"
]

[build]
target = "armv7a-none-eabihf"

[env]
DEFMT_LOG = "info"
